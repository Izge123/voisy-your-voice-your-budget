CREATE OR REPLACE FUNCTION public.send_welcome_notification()
 RETURNS trigger
 LANGUAGE plpgsql
 SECURITY DEFINER
 SET search_path TO 'public'
AS $function$
BEGIN
  INSERT INTO public.notifications (user_id, type, title, message, icon, metadata)
  VALUES (
    NEW.id,
    'tutorial',
    '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Kapitallo! üéâ',
    '–£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ –∑–∞ 4 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞',
    'üëã',
    jsonb_build_object(
      'is_tutorial', true,
      'steps', jsonb_build_array(
        jsonb_build_object('icon', 'üìÇ', 'title', '–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', 'description', '–ù–∞—á–Ω–∏—Ç–µ —Å —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –¥–æ—Ö–æ–¥–æ–≤. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Äî —Ç–∞–∫ AI —Ç–æ—á–Ω–µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç –≤–∞—à–∏ –∑–∞–ø–∏—Å–∏.'),
        jsonb_build_object('icon', 'üé§', 'title', '–ì–æ–≤–æ—Ä–∏—Ç–µ ‚Äî AI –∑–∞–ø–∏—à–µ—Ç', 'description', '–ù–∞–∂–º–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ —Å–∫–∞–∂–∏—Ç–µ: ¬´–ü–æ—Ç—Ä–∞—Ç–∏–ª 2000: 1500 –Ω–∞ —Ç–∞–∫—Å–∏, 500 –Ω–∞ –∫–æ—Ñ–µ¬ª. AI —Å–æ–∑–¥–∞—Å—Ç –¥–≤–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!'),
        jsonb_build_object('icon', 'üìä', 'title', '–°–ª–µ–¥–∏—Ç–µ –∑–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π', 'description', '–°–º–æ—Ç—Ä–∏—Ç–µ –∫—É–¥–∞ —É—Ö–æ–¥—è—Ç –¥–µ–Ω—å–≥–∏. –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∂—É—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –¥–∏–Ω–∞–º–∏–∫—É –ø–æ –¥–Ω—è–º.'),
        jsonb_build_object('icon', 'ü§ñ', 'title', '–°–ø—Ä–æ—Å–∏—Ç–µ AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞', 'description', '–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –æ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö. AI –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ —Ç—Ä–∞—Ç—ã –∏ –¥–∞—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.')
      )
    )
  );
  RETURN NEW;
END;
$function$;